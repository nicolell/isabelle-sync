%
\begin{isabellebody}%
\setisabellecontext{Express}%
%
\isadelimtheory
\isanewline
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isakeywordONE{theory}\isamarkupfalse%
\ Express\isanewline
\ \ \isakeywordTWO{imports}\ CommunicatingAutomaton\isanewline
\isakeywordTWO{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isakeywordONE{context}\isamarkupfalse%
\ NetworkOfCA\isanewline
\isakeywordTWO{begin}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Express Paper Formalizations%
}
\isamarkuptrue%
%
\isamarkupsubsection{Lemma 4.4%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isakeywordONE{lemma}\isamarkupfalse%
\ lemma{\isadigit{4}}{\isacharunderscore}{\kern0pt}{\isadigit{4}}\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeywordTWO{fixes}\ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}information{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}peer{\isacharparenright}{\kern0pt}\ action\ word{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{and}\ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}peer{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}topology{\isachardoublequoteclose}\ \isakeywordTWO{and}\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ {\isachardoublequoteopen}q\ {\isasymin}\ {\isasymP}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}{\isasymexists}\ w{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub \ {\isasymand}\ w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isakeywordONE{using}\isamarkupfalse%
\ assms\isanewline
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}root\ q{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ True\ %
\isamarkupcmt{q = r%
}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang{\isachardot}{\kern0pt}cases\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ NetworkOfCA{\isachardot}{\kern0pt}no{\isacharunderscore}{\kern0pt}inputs{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}sends{\isacharunderscore}{\kern0pt}alt\ NetworkOfCA{\isacharunderscore}{\kern0pt}axioms\ True\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ global{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}local{\isacharunderscore}{\kern0pt}root\isanewline
\ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}root{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ output{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}input{\isacharunderscore}{\kern0pt}yields{\isacharunderscore}{\kern0pt}eps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ t{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymL}\ q{\isacartoucheclose}\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}actor{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ p{\isachardot}{\kern0pt}\ p\ {\isasymnoteq}\ q\ {\isasymlongrightarrow}\ w{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ only{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}actor{\isacharunderscore}{\kern0pt}proj{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ t{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p\ {\isasymin}\ {\isasymP}\ {\isasymand}\ {\isasymP}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}q{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ w{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ True\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ global{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}local{\isacharunderscore}{\kern0pt}root\ insert{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}empty\ {\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ %
\isamarkupcmt{need to prove lemma that if w is w of root r, then mbox (unbounded) has a run for it 
basically construct the configs, where it starts with (\<I>(r), \<epsilon>) and each step appends a send to the buffer of the respective receiver%
}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymL}\ q{\isacartoucheclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}root\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ True\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymL}\ q{\isacartoucheclose}\ root{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mbox\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ t{\isadigit{2}}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q\ {\isasymlongrightarrow}\ w{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ True\ is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}rev{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ iso{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}I\ only{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}actor{\isacharunderscore}{\kern0pt}proj\ root{\isacharunderscore}{\kern0pt}defs{\isacharunderscore}{\kern0pt}eq\ t{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isacartoucheclose}\ t{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ False\ \isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ p\ \isakeywordTWO{where}\ q{\isacharunderscore}{\kern0pt}parent{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ p{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UNIV{\isacharunderscore}{\kern0pt}I\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isachardot}{\kern0pt}cases\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ ps\ \isakeywordTWO{where}\ p{\isadigit{2}}root{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root\ p\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UNIV{\isacharunderscore}{\kern0pt}I\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}exists\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}node\ q{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of{\isachardot}{\kern0pt}cases\ q{\isacharunderscore}{\kern0pt}parent{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ p{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ q{\isacharunderscore}{\kern0pt}parent{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}w{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub p\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ infl{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}ws\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ w{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub p\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}Lp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\ p{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}topology{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ c{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub p\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ w\ {\isasymin}\ {\isasymL}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}node\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ p{\isacartoucheclose}\isanewline
\ \ \ \ \ \ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}{\isasymP}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymG}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}qa{\isachardot}{\kern0pt}\ {\isasymG}{\isasymlangle}{\isasymrightarrow}q{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}qa{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\ is{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}{\isasymP}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymG}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}qa{\isachardot}{\kern0pt}\ {\isasymP}\isactrlsub {\isacharquery}{\kern0pt}\ q\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}qa{\isacharbraceright}{\kern0pt}\ {\isasymor}\ q\ {\isasymin}\ {\isasymP}\isactrlsub {\isacharbang}{\kern0pt}\ qa{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\ p{\isacartoucheclose}\isanewline
\ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}rev{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}w\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordTHREE{obtain}\isamarkupfalse%
\ r\ \isakeywordTWO{where}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}root\ r{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}exists\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root\ q\ {\isacharparenleft}{\kern0pt}q\ {\isacharhash}{\kern0pt}\ p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ p{\isadigit{2}}root\ p{\isadigit{2}}root{\isacharunderscore}{\kern0pt}down{\isacharunderscore}{\kern0pt}step\ q{\isacharunderscore}{\kern0pt}parent\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}concat{\isacharunderscore}{\kern0pt}infl\ q\ w\ {\isacharparenleft}{\kern0pt}q\ {\isacharhash}{\kern0pt}\ p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ w{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ at{\isacharunderscore}{\kern0pt}p\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ c{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}actor\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordTHREE{obtain}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}acc\ \isakeywordTWO{where}\ {\isachardoublequoteopen}concat{\isacharunderscore}{\kern0pt}infl\ q\ w\ {\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}\ w{\isacharunderscore}{\kern0pt}acc{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ {\isacartoucheopen}concat{\isacharunderscore}{\kern0pt}infl\ q\ w\ {\isacharparenleft}{\kern0pt}q\ {\isacharhash}{\kern0pt}\ p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ w{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}{\isasymP}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymG}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymP}\isactrlsub {\isacharquery}{\kern0pt}\ r\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}q{\isachardot}{\kern0pt}\ r\ {\isasymnotin}\ {\isasymP}\isactrlsub {\isacharbang}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ {\isasymor}\ is{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}{\isasymP}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymG}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymG}{\isasymlangle}{\isasymrightarrow}r{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ concat{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}word{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isacharunderscore}{\kern0pt}acc\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ concat{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}mbox{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isacharunderscore}{\kern0pt}acc{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}concat{\isacharunderscore}{\kern0pt}infl\ q\ w\ {\isacharparenleft}{\kern0pt}r\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}\ w{\isacharunderscore}{\kern0pt}acc{\isacartoucheclose}\ concat{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}actor{\isacharunderscore}{\kern0pt}consistent\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ w{\isacharunderscore}{\kern0pt}acc{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}concat{\isacharunderscore}{\kern0pt}infl\ q\ w\ {\isacharparenleft}{\kern0pt}r\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}\ w{\isacharunderscore}{\kern0pt}acc{\isacartoucheclose}\ concat{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}children{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}included\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w{\isacharunderscore}{\kern0pt}acc\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isacartoucheclose}\ {\isacartoucheopen}w{\isacharunderscore}{\kern0pt}acc{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isanewline
\isanewline
\isakeywordONE{lemma}\isamarkupfalse%
\ lemm{\isadigit{4}}{\isacharunderscore}{\kern0pt}{\isadigit{4}}{\isacharunderscore}{\kern0pt}extra{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{fixes}\ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}information{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}peer{\isacharparenright}{\kern0pt}\ action\ word{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTWO{and}\ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}peer{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}topology{\isachardoublequoteclose}\ \isakeywordTWO{and}\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ {\isachardoublequoteopen}q\ {\isasymin}\ {\isasymP}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}{\isasymexists}\ w{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub \ {\isasymand}\ w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ xs{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isakeywordONE{using}\isamarkupfalse%
\ assms\isanewline
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}root\ q{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ True\ %
\isamarkupcmt{q = r%
}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang{\isachardot}{\kern0pt}cases\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ NetworkOfCA{\isachardot}{\kern0pt}no{\isacharunderscore}{\kern0pt}inputs{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}sends{\isacharunderscore}{\kern0pt}alt\ NetworkOfCA{\isacharunderscore}{\kern0pt}axioms\ True\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ global{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}local{\isacharunderscore}{\kern0pt}root\isanewline
\ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}root{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ output{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}input{\isacharunderscore}{\kern0pt}yields{\isacharunderscore}{\kern0pt}eps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ t{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymL}\ q{\isacartoucheclose}\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}actor{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ p{\isachardot}{\kern0pt}\ p\ {\isasymnoteq}\ q\ {\isasymlongrightarrow}\ w{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ only{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}actor{\isacharunderscore}{\kern0pt}proj{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ t{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p\ {\isasymin}\ {\isasymP}\ {\isasymand}\ {\isasymP}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}q{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ w{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ True\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ global{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}local{\isacharunderscore}{\kern0pt}root\ insert{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}empty\ {\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ %
\isamarkupcmt{need to prove lemma that if w is w of root r, then mbox (unbounded) has a run for it 
basically construct the configs, where it starts with (\<I>(r), \<epsilon>) and each step appends a send to the buffer of the respective receiver%
}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymL}\ q{\isacartoucheclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}root\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ True\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymL}\ q{\isacartoucheclose}\ root{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mbox\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ t{\isadigit{2}}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q\ {\isasymlongrightarrow}\ w{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ True\ is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}rev{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ iso{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}I\ only{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}actor{\isacharunderscore}{\kern0pt}proj\ root{\isacharunderscore}{\kern0pt}defs{\isacharunderscore}{\kern0pt}eq\ t{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isacartoucheclose}\ \ append{\isacharunderscore}{\kern0pt}self{\isacharunderscore}{\kern0pt}conv{\isadigit{2}}\ t{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ False\ \isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ p\ \isakeywordTWO{where}\ q{\isacharunderscore}{\kern0pt}parent{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ p{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UNIV{\isacharunderscore}{\kern0pt}I\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isachardot}{\kern0pt}cases\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ ps\ \isakeywordTWO{where}\ p{\isadigit{2}}root{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root\ p\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UNIV{\isacharunderscore}{\kern0pt}I\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}exists\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}node\ q{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of{\isachardot}{\kern0pt}cases\ q{\isacharunderscore}{\kern0pt}parent{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ p{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ q{\isacharunderscore}{\kern0pt}parent{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}w{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub p\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ infl{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}ws\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ w{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub p\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}Lp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\ p{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}topology{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ c{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub p\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ w\ {\isasymin}\ {\isasymL}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}node\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ p{\isacartoucheclose}\isanewline
\ \ \ \ \ \ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}{\isasymP}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymG}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}qa{\isachardot}{\kern0pt}\ {\isasymG}{\isasymlangle}{\isasymrightarrow}q{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}qa{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\ is{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}{\isasymP}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymG}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}qa{\isachardot}{\kern0pt}\ {\isasymP}\isactrlsub {\isacharquery}{\kern0pt}\ q\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}qa{\isacharbraceright}{\kern0pt}\ {\isasymor}\ q\ {\isasymin}\ {\isasymP}\isactrlsub {\isacharbang}{\kern0pt}\ qa{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\ p{\isacartoucheclose}\isanewline
\ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}rev{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}w\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordTHREE{obtain}\isamarkupfalse%
\ r\ \isakeywordTWO{where}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}root\ r{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}exists\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root\ q\ {\isacharparenleft}{\kern0pt}q\ {\isacharhash}{\kern0pt}\ p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ p{\isadigit{2}}root\ p{\isadigit{2}}root{\isacharunderscore}{\kern0pt}down{\isacharunderscore}{\kern0pt}step\ q{\isacharunderscore}{\kern0pt}parent\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}concat{\isacharunderscore}{\kern0pt}infl\ q\ w\ {\isacharparenleft}{\kern0pt}q\ {\isacharhash}{\kern0pt}\ p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ w{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ at{\isacharunderscore}{\kern0pt}p\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ c{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}actor\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordTHREE{obtain}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}acc\ \isakeywordTWO{where}\ concat{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}concat{\isacharunderscore}{\kern0pt}infl\ q\ w\ {\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}\ w{\isacharunderscore}{\kern0pt}acc{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ {\isacartoucheopen}concat{\isacharunderscore}{\kern0pt}infl\ q\ w\ {\isacharparenleft}{\kern0pt}q\ {\isacharhash}{\kern0pt}\ p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ w{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}{\isasymP}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymG}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymP}\isactrlsub {\isacharquery}{\kern0pt}\ r\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}q{\isachardot}{\kern0pt}\ r\ {\isasymnotin}\ {\isasymP}\isactrlsub {\isacharbang}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ {\isasymor}\ is{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}{\isasymP}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymG}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymG}{\isasymlangle}{\isasymrightarrow}r{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ concat{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}word{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isacharunderscore}{\kern0pt}acc\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ concat{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}mbox{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isacharunderscore}{\kern0pt}acc{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}concat{\isacharunderscore}{\kern0pt}infl\ q\ w\ {\isacharparenleft}{\kern0pt}r\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}\ w{\isacharunderscore}{\kern0pt}acc{\isacartoucheclose}\ concat{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}actor{\isacharunderscore}{\kern0pt}consistent\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ w{\isacharunderscore}{\kern0pt}acc{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}concat{\isacharunderscore}{\kern0pt}infl\ q\ w\ {\isacharparenleft}{\kern0pt}r\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}\ w{\isacharunderscore}{\kern0pt}acc{\isacartoucheclose}\ concat{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}children{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}included\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ t{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w{\isacharunderscore}{\kern0pt}acc\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub \ {\isasymand}\ w{\isacharunderscore}{\kern0pt}acc{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ w{\isacharunderscore}{\kern0pt}acc{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w{\isacharunderscore}{\kern0pt}acc\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isacartoucheclose}\ {\isacartoucheopen}w{\isacharunderscore}{\kern0pt}acc{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ w{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\ \ \isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ es{\isachardot}{\kern0pt}\ w{\isacharunderscore}{\kern0pt}acc\ {\isacharequal}{\kern0pt}\ es\ {\isacharat}{\kern0pt}\ w{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ concat\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ concat{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}w{\isacharunderscore}{\kern0pt}acc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{using}\isamarkupfalse%
\ t{\isadigit{1}}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymforall}p{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q\ {\isasymlongrightarrow}\ w{\isacharunderscore}{\kern0pt}acc{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Theorem 4.5 Preparations%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isakeywordONE{lemma}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}trace{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}exec{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}topology{\isachardoublequoteclose}\ \isakeywordTWO{and}\ {\isachardoublequoteopen}theorem{\isacharunderscore}{\kern0pt}rightside{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isakeywordONE{using}\isamarkupfalse%
\ assms\isanewline
\isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ {\isachardoublequoteopen}length\ w{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ eps{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}execs{\isacharparenright}{\kern0pt}\isanewline
\isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ v\ a\ \isakeywordTWO{where}\ w{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ v\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ v{\isacharunderscore}{\kern0pt}len{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ v\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ length{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prefix{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}trace{\isacharunderscore}{\kern0pt}valid\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}IH{\isacharunderscore}{\kern0pt}prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isacharbar}{\kern0pt}\ {\isasymand}\ v\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}{\isasymP}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymG}{\isacharparenright}{\kern0pt}\ {\isasymand}\ theorem{\isacharunderscore}{\kern0pt}rightside{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharunderscore}{\kern0pt}len\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isachardoublequoteclose}\ \isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}IH{\isacharunderscore}{\kern0pt}prems\ Suc\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}v\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ w{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ i\ p\ q\ \isakeywordTWO{where}\ a{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbang}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Nil{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}conv\ append{\isadigit{1}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\ decompose{\isacharunderscore}{\kern0pt}send\ neq{\isacharunderscore}{\kern0pt}Nil{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ s{\isadigit{1}}\ s{\isadigit{2}}\ {\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}s{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isacharbang}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharcomma}{\kern0pt}\ s{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymR}\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}act\ w{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymin}\ {\isasymP}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ CommunicatingAutomaton{\isachardot}{\kern0pt}SendingToPeers{\isachardot}{\kern0pt}intros\ automaton{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}peer\ get{\isacharunderscore}{\kern0pt}message{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}output{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ message{\isachardot}{\kern0pt}inject\ output{\isacharunderscore}{\kern0pt}message{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}known\ trans{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymG}{\isasymlangle}{\isasymrightarrow}p{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}q{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ local{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}global{\isacharparenright}{\kern0pt}\ \ \isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ pq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ assms\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ node{\isacharunderscore}{\kern0pt}parent{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}word\ v{\isacharunderscore}{\kern0pt}IH\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}sends{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacartoucheopen}v\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ adding{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}keeps{\isacharunderscore}{\kern0pt}send{\isacharunderscore}{\kern0pt}order\ filter{\isacharunderscore}{\kern0pt}append\ w{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}sends{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}v\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ adding{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}keeps{\isacharunderscore}{\kern0pt}send{\isacharunderscore}{\kern0pt}order\ w{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}facts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}output\ a\ {\isasymand}\ get{\isacharunderscore}{\kern0pt}actor\ a\ {\isacharequal}{\kern0pt}\ q\ {\isasymand}\ get{\isacharunderscore}{\kern0pt}object\ a\ {\isacharequal}{\kern0pt}\ p\ {\isasymand}\ p\ {\isasymnoteq}\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}output{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isacartoucheclose}\ parent{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}diff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}def\ a{\isacharunderscore}{\kern0pt}facts\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymin}\ {\isasymP}\ {\isasymand}\ q\ {\isasymin}\ {\isasymP}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}subset{\isacharunderscore}{\kern0pt}condition\ p\ q{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ theorem{\isacharunderscore}{\kern0pt}rightside{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ theorem{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}pq{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}subset{\isacharunderscore}{\kern0pt}condition\ p\ q{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ pq\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}send{\isacharunderscore}{\kern0pt}ok{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}def\ Suc\ assms\isanewline
\ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}root\ q{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}v{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}{\isacharbang}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}trace{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}word{\isacharbrackleft}{\kern0pt}of\ v\ i\ q\ p{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}def\ w{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}word{\isacharunderscore}{\kern0pt}no{\isacharunderscore}{\kern0pt}recvs{\isacharbrackleft}{\kern0pt}of\ q\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q{\isachardoublequoteclose}\ {\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ True\ {\isacartoucheopen}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub q\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}v{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbang}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isacartoucheclose}\ {\isacartoucheopen}w\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ a{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ append{\isadigit{1}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative\ w{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{using}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}send{\isacharbrackleft}{\kern0pt}of\ q\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ a{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isacartoucheclose}\ a{\isacharunderscore}{\kern0pt}facts\ v{\isacharunderscore}{\kern0pt}IH\ \isakeywordONE{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ False\ \isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \isakeywordTHREE{obtain}\isamarkupfalse%
\ e\ \isakeywordTWO{where}\ e{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordTWO{and}\ e{\isacharunderscore}{\kern0pt}trace{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ wq\ \isakeywordTWO{where}\ wq{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wq\ {\isacharequal}{\kern0pt}\ e{\isasymdown}\isactrlsub q{\isachardoublequoteclose}\ \isakeywordTWO{and}\ wq{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wq\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}word\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\ \ \isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}a{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}facts\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}a{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ \ {\isacartoucheopen}v\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ adding{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}keeps{\isacharunderscore}{\kern0pt}send{\isacharunderscore}{\kern0pt}order\ append{\isadigit{1}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\ filter{\isacharunderscore}{\kern0pt}append\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative\ same{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}wq{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}trace\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative\ wq{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ wq{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}sends{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wq{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ {\isacartoucheopen}wq{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub q{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}a{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isasymdown}\isactrlsub q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}a{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isasymdown}\isactrlsub q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ wq{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}a{\isacharunderscore}{\kern0pt}trace{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wq{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ v{\isacharprime}{\kern0pt}a{\isadigit{3}}\ v{\isacharprime}{\kern0pt}a{\isadigit{4}}\ wq{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}sends\ \isakeywordONE{by}\isamarkupfalse%
\ argo\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}node\ q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ False\ NetworkOfCA{\isachardot}{\kern0pt}root{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}node\ NetworkOfCA{\isacharunderscore}{\kern0pt}axioms\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ r\ \isakeywordTWO{where}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ False\ UNIV{\isacharunderscore}{\kern0pt}I\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isachardot}{\kern0pt}cases\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ matching{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}word{\isacharunderscore}{\kern0pt}matches{\isacharunderscore}{\kern0pt}sends{\isacharunderscore}{\kern0pt}explicit{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ q\ r{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isacartoucheclose}\ v{\isacharunderscore}{\kern0pt}IH\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ w{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ wr{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}pref{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}prefix\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}e{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}e{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ peer{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}prefix{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}sends{\isacharbrackleft}{\kern0pt}of\ e\ q\ r{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isacartoucheclose}\ e{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ wq{\isacharunderscore}{\kern0pt}e{\isacharunderscore}{\kern0pt}pref{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prefix\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}e{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ wq{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}trace{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}e{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ e{\isacharunderscore}{\kern0pt}trace\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}prefix\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ e{\isacharunderscore}{\kern0pt}pref\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative\isanewline
\ \ \ \ \ \ \ \ \ \ wq{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsqdot}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}facts\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isasymnoteq}\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isacartoucheclose}\ parent{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}diff\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymnoteq}\ q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}facts{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isasymnoteq}\ p{\isachardoublequoteclose}\ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ r\ {\isasymnoteq}\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ p{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ g{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymG}{\isasymlangle}{\isasymrightarrow}q{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}rev\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ e{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymG}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ g{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymG}{\isasymlangle}{\isasymrightarrow}p{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}q{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ pq\ is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}rev\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ e{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}q{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymG}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}acyclic{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymP}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymG}{\isachardoublequoteclose}\ p\ q{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ e{\isadigit{1}}\ e{\isadigit{2}}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}facts\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}r\ {\isasymnoteq}\ p{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}facts\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}e{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}e{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}e{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ argo\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}match\ w{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}e{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ {\isacartoucheopen}w\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ e{\isacharunderscore}{\kern0pt}trace\ \isakeywordONE{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ wq{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}pref{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prefix\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative\ wq{\isacharunderscore}{\kern0pt}e{\isacharunderscore}{\kern0pt}pref{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}inv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ wq{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}prefix{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prefix\ {\isacharparenleft}{\kern0pt}wq{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ wq{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}pref\ filter{\isacharunderscore}{\kern0pt}recursion\ no{\isacharunderscore}{\kern0pt}sign{\isacharunderscore}{\kern0pt}recv{\isacharunderscore}{\kern0pt}prefix{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}sign{\isacharunderscore}{\kern0pt}inv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ e{\isacharunderscore}{\kern0pt}trace{\isadigit{2}}\ e{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}prefix\ {\isacharparenleft}{\kern0pt}wq{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}a\ wq{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}prefix\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ wq{\isacharunderscore}{\kern0pt}pref{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}rq{\isacharunderscore}{\kern0pt}sends{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prefix\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match\ wq{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}pref\ \isakeywordONE{by}\isamarkupfalse%
\ argo\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}prefix\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}alt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}wr{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ prefix\ wr{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wr{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ wr{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ match{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}prefix{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}match{\isacharbrackleft}{\kern0pt}of\ r\ q\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ wq{\isacharbrackright}{\kern0pt}\ \ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isacartoucheclose}\ v{\isacharunderscore}{\kern0pt}IH\ wq{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}prefix\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ wr{\isacharprime}{\kern0pt}\ x{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\ v{\isacharprime}{\kern0pt}r{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wr{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ wr{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wr{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ {\isachardoublequoteopen}wr{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ r{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ prefixE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ r{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}word{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ r{\isacharbrackright}{\kern0pt}\ \ \isakeywordONE{using}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}IH\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}wr{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ r{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ v{\isacharprime}{\kern0pt}r{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}q\ {\isasymin}\ {\isasymP}\ {\isasymand}\ r\ {\isasymin}\ {\isasymP}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}subset{\isacharunderscore}{\kern0pt}condition\ q\ r{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ theorem{\isacharunderscore}{\kern0pt}rightside{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ theorem{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}qr{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}subset{\isacharunderscore}{\kern0pt}condition\ q\ r{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isacartoucheclose}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wr{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ subset{\isacharunderscore}{\kern0pt}cond{\isacharunderscore}{\kern0pt}from{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}prefix{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}parent{\isacharbrackleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ of\ q\ r\ wq\ wr{\isacharprime}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}wr{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ r{\isacartoucheclose}\ theorem{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}qr\ wq{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}q\ wr{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ x\ \isakeywordTWO{where}\ wqx{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \isakeywordTWO{and}\ wqx{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wr{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ wqx{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}trace{\isadigit{2}}\ e{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}alt\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}inv\ v{\isacharprime}{\kern0pt}r{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ argo\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ xs\ ys\ \isakeywordTWO{where}\ x{\isacharunderscore}{\kern0pt}shuf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}xs\ {\isasymsqdot}\ ys{\isacharparenright}{\kern0pt}\ {\isasymsqunion}{\isasymsqunion}\isactrlsub {\isacharquery}{\kern0pt}\ x{\isachardoublequoteclose}\ \isakeywordTWO{and}\ {\isachardoublequoteopen}xs{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ \isakeywordTWO{and}\ {\isachardoublequoteopen}ys{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ full{\isacharunderscore}{\kern0pt}shuffle{\isacharunderscore}{\kern0pt}of\ \isakeywordONE{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ xsys{\isacharunderscore}{\kern0pt}recvs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ {\isacharparenleft}{\kern0pt}xs\ {\isasymsqdot}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ filter{\isacharunderscore}{\kern0pt}append\ shuffled{\isacharunderscore}{\kern0pt}keeps{\isacharunderscore}{\kern0pt}recv{\isacharunderscore}{\kern0pt}order\ wqx{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ \ \isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs\ {\isasymsqdot}\ ys{\isacharparenright}{\kern0pt}\ {\isasymsqunion}{\isasymsqunion}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}shuf\ shuffle{\isacharunderscore}{\kern0pt}prepend\ \isakeywordONE{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}wq\ {\isasymsqdot}\ xs\ {\isasymsqdot}\ ys\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UNIV{\isacharunderscore}{\kern0pt}def\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isacartoucheclose}\ {\isacartoucheopen}wq\ {\isasymsqdot}\ x\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isacartoucheclose}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ input{\isacharunderscore}{\kern0pt}shuffle{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}shuffled{\isacharunderscore}{\kern0pt}lang\isanewline
\ \ \ \ \ \ \ \ \ \ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ theorem{\isacharunderscore}{\kern0pt}rightside{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ wqxs{\isacharunderscore}{\kern0pt}L{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wq\ {\isasymsqdot}\ xs\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ local{\isachardot}{\kern0pt}infl{\isacharunderscore}{\kern0pt}word{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}prefix{\isacharunderscore}{\kern0pt}valid\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wq{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}xs{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isacartoucheclose}\ input{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}yields{\isacharunderscore}{\kern0pt}eps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ wqx{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}trace{\isadigit{2}}\ e{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}inv\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}a\ wqx{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}xs{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}xs\ {\isasymsqdot}\ ys{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}ys{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ys{\isacartoucheclose}\ output{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}input{\isacharunderscore}{\kern0pt}yields{\isacharunderscore}{\kern0pt}eps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}xs\ {\isasymsqdot}\ ys{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}shuf\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ shuffled{\isacharunderscore}{\kern0pt}keeps{\isacharunderscore}{\kern0pt}recv{\isacharunderscore}{\kern0pt}order{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}xs{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}xs{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}xs\ {\isasymsqdot}\ ys{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}xs{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacartoucheclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}recvs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ wqx{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}\ wqx{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}a\ \isakeywordONE{by}\isamarkupfalse%
\ argo\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}trace{\isadigit{2}}\ e{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}inv\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}q{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}a\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}recvs\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}sign{\isacharunderscore}{\kern0pt}recv{\isacharunderscore}{\kern0pt}prefix{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}sign{\isacharunderscore}{\kern0pt}inv{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ filter{\isacharunderscore}{\kern0pt}recursion\ no{\isacharunderscore}{\kern0pt}sign{\isacharunderscore}{\kern0pt}recv{\isacharunderscore}{\kern0pt}prefix{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}sign{\isacharunderscore}{\kern0pt}inv\ prefix{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}antisym\isanewline
\ \ \ \ \ \ \ \ \ \ prefix{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}refl{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ wqxs{\isacharunderscore}{\kern0pt}order{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wq{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ w{\isacharunderscore}{\kern0pt}sends{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ w{\isacharunderscore}{\kern0pt}sends{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ wq{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}a{\isacharunderscore}{\kern0pt}trace\ \isakeywordONE{by}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ wqxs{\isacharunderscore}{\kern0pt}trace{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub r{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}v\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ e{\isacharunderscore}{\kern0pt}trace\ e{\isacharunderscore}{\kern0pt}trace{\isadigit{2}}\ w{\isacharunderscore}{\kern0pt}def\ xs{\isacharunderscore}{\kern0pt}recvs\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}wq\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}wq\ {\isasymsqdot}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{using}\isamarkupfalse%
\ wqxs{\isacharunderscore}{\kern0pt}order\ \isanewline
\ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsqunion}{\isasymsqunion}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ input{\isacharunderscore}{\kern0pt}shuffle{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}shuffled{\isacharunderscore}{\kern0pt}lang\ wqxs{\isacharunderscore}{\kern0pt}L\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ theorem{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}qr\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{using}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}send{\isacharbrackleft}{\kern0pt}of\ q\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ a{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}facts\ v{\isacharunderscore}{\kern0pt}IH\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ shuffled{\isachardot}{\kern0pt}refl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsqunion}{\isasymsqunion}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ False\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsqunion}{\isasymsqunion}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}wq{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ wqxs{\isacharunderscore}{\kern0pt}order\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ xs{\isacharprime}{\kern0pt}\ a{\isacharprime}{\kern0pt}\ ys{\isacharprime}{\kern0pt}\ b{\isacharprime}{\kern0pt}\ zs{\isacharprime}{\kern0pt}\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ zs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}input\ a{\isacharprime}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}output\ b{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}wq{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}xs{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ ys{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}b{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ zs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}b{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ zs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}shuffle{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}input{\isacharunderscore}{\kern0pt}exists{\isacharbrackleft}{\kern0pt}of\ \isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}wq{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ filter{\isacharunderscore}{\kern0pt}append{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ diff{\isacharunderscore}{\kern0pt}trace{\isacharunderscore}{\kern0pt}prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}wq{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}wq{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymand}\ \isanewline
{\isasymnot}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsqunion}{\isasymsqunion}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharquery}{\kern0pt}wq{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}wq\ {\isasymnoteq}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
{\isasymand}\ e\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub \ {\isasymand}\ {\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub \ {\isasymand}\ {\isacharparenleft}{\kern0pt}v\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q\isanewline
{\isasymand}\ {\isacharquery}{\kern0pt}wq\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ False\ Suc{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wq{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}wq\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}\ {\isasymnoteq}\ wq\ {\isasymsqdot}\ xs{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub q\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isacartoucheclose}\ e{\isacharunderscore}{\kern0pt}def\ filter{\isacharunderscore}{\kern0pt}append\ v{\isacharprime}{\kern0pt}a{\isadigit{1}}\ v{\isacharunderscore}{\kern0pt}IH\ w{\isacharunderscore}{\kern0pt}def\ wq{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}v{\isacharprime}{\kern0pt}a{\isacharunderscore}{\kern0pt}trace\ wqxs{\isacharunderscore}{\kern0pt}L{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ exec{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}missing{\isacharunderscore}{\kern0pt}recvs{\isacharbrackleft}{\kern0pt}of\ wq\ xs\ r\ q\ v\ a\ e{\isacharbrackright}{\kern0pt}\ \ \isakeywordONE{using}\isamarkupfalse%
\ diff{\isacharunderscore}{\kern0pt}trace{\isacharunderscore}{\kern0pt}prems\ wq{\isacharunderscore}{\kern0pt}def\ wqxs{\isacharunderscore}{\kern0pt}trace{\isacharunderscore}{\kern0pt}match\ \isanewline
\ \ \ \ \ \ \ \ \ \ e{\isacharunderscore}{\kern0pt}trace\ w{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ e{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ xs{\isasymdown}\isactrlsub q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}xs{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ infl{\isacharunderscore}{\kern0pt}word{\isacharunderscore}{\kern0pt}actor{\isacharunderscore}{\kern0pt}app\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ wqxs{\isacharunderscore}{\kern0pt}L{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}wq{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ e{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ xs{\isasymdown}\isactrlsub q{\isacartoucheclose}\ wq{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ e{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}xs{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isacartoucheclose}\ input{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}yields{\isacharunderscore}{\kern0pt}eps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ diff{\isacharunderscore}{\kern0pt}trace{\isacharunderscore}{\kern0pt}prems{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}wq{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}wq{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymand}\ \isanewline
{\isasymnot}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsqunion}{\isasymsqunion}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharquery}{\kern0pt}wq{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}wq\ {\isasymnoteq}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
{\isasymand}\ {\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub \ {\isasymand}\ {\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}wq\ {\isasymand}\ {\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub \ {\isasymand}\ {\isacharparenleft}{\kern0pt}v\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q\isanewline
{\isasymand}\ {\isacharquery}{\kern0pt}wq\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ wq\ {\isasymsqdot}\ xs{\isacartoucheclose}\ {\isacartoucheopen}e\ {\isasymsqdot}\ xs\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isacartoucheclose}\ diff{\isacharunderscore}{\kern0pt}trace{\isacharunderscore}{\kern0pt}prems\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymnoteq}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ diff{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}word{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}trace\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}wq{\isachardoublequoteclose}\ q\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ a\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ v{\isacharbrackright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ xs{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ e{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ e{\isacharunderscore}{\kern0pt}trace{\isadigit{2}}\ \isakeywordONE{by}\isamarkupfalse%
\ argo\isanewline
\ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\isanewline
\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}word\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ q{\isacharunderscore}{\kern0pt}full{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbang}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}p{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}L{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub p\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}word\ v{\isacharunderscore}{\kern0pt}IH\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}pq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub p{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ matching{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}word{\isacharunderscore}{\kern0pt}matches{\isacharunderscore}{\kern0pt}sends{\isacharunderscore}{\kern0pt}explicit{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ p\ q{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isacartoucheclose}\ v{\isacharunderscore}{\kern0pt}IH\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}pq{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub p{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ {\isasymepsilon}{\isacartoucheclose}\ w{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}wp\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}wq{\isacharunderscore}{\kern0pt}full\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub q\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbang}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}wp\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}{\isacharquery}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}wp\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}{\isacharquery}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}wq{\isacharunderscore}{\kern0pt}full{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ subset{\isacharunderscore}{\kern0pt}cond{\isacharunderscore}{\kern0pt}from{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}prefix{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}act{\isacharbrackleft}{\kern0pt}of\ p\ q\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}wp{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ i{\isacharbrackright}{\kern0pt}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative\ pq\ q{\isacharunderscore}{\kern0pt}full\ theorem{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}pq\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}pq{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ v{\isacharprime}{\kern0pt}p{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}L{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub p\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}ok{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbang}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharbrackright}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}{\isacharquery}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}recv{\isacharunderscore}{\kern0pt}append{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}v{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ i\ q\ p{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}def\ a{\isacharunderscore}{\kern0pt}send{\isacharunderscore}{\kern0pt}ok\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ append{\isadigit{1}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\ append{\isacharunderscore}{\kern0pt}assoc\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative\ pq\ v{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}match{\isacharunderscore}{\kern0pt}pq\ w{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ w{\isacharunderscore}{\kern0pt}sends{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeywordONE{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbang}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharbrackright}{\kern0pt}\ {\isasymsqdot}\ {\isacharbrackleft}{\kern0pt}{\isacharquery}{\kern0pt}{\isasymlangle}{\isacharparenleft}{\kern0pt}i\isactrlbsup q{\isasymrightarrow}p\isactrlesup {\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ force\isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}ok{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ v{\isacharparenright}{\kern0pt}\ {\isasymsqdot}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}ok{\isadigit{0}}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isanewline
\ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}app\ w{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Theorem 4.5 Final Version%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isakeywordONE{theorem}\isamarkupfalse%
\ synchronisability{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}trees{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}topology{\isachardoublequoteclose}\ \isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}synchronisable\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymforall}p\ {\isasymin}\ {\isasymP}{\isachardot}{\kern0pt}\ {\isasymforall}q\ {\isasymin}\ {\isasymP}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}subset{\isacharunderscore}{\kern0pt}condition\ p\ q{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeywordTWO{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}L\ {\isasymlongleftrightarrow}\ {\isacharquery}{\kern0pt}R{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isakeywordONE{proof}\isamarkupfalse%
\ \isanewline
\ \ \isanewline
\ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}L{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}R{\isachardoublequoteclose}\isanewline
\ \ \isakeywordONE{proof}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ p\ q\isanewline
\ \ \ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ q{\isacharunderscore}{\kern0pt}parent{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymL}\isactrlsub {\isasymzero}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}L{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}subset{\isacharunderscore}{\kern0pt}condition\ p\ q\ {\isasymand}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}subset{\isacharunderscore}{\kern0pt}condition\ p\ q{\isachardoublequoteclose}\ \isakeywordONE{unfolding}\isamarkupfalse%
\ subset{\isacharunderscore}{\kern0pt}condition{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ w\ w{\isacharprime}{\kern0pt}\ x{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}Lp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordTWO{and}\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}Lq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang\ q\ w{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordTWO{and}\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}w{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}output\ x\ {\isasymand}\ {\isacharparenleft}{\kern0pt}get{\isacharunderscore}{\kern0pt}object\ x\ {\isacharequal}{\kern0pt}\ q\ {\isasymand}\ get{\isacharunderscore}{\kern0pt}actor\ x\ {\isacharequal}{\kern0pt}\ p\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymor}\ get{\isacharunderscore}{\kern0pt}object\ x\ {\isacharequal}{\kern0pt}\ p\ {\isasymand}\ get{\isacharunderscore}{\kern0pt}actor\ x\ {\isacharequal}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordTWO{and}\ w{\isacharprime}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}Lq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang\ q\ {\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}wa{\isachardot}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}output\ x\ {\isasymand}\ {\isacharparenleft}{\kern0pt}get{\isacharunderscore}{\kern0pt}object\ x\ {\isacharequal}{\kern0pt}\ q\ {\isasymand}\ get{\isacharunderscore}{\kern0pt}actor\ x\ {\isacharequal}{\kern0pt}\ p\ {\isasymor}\ get{\isacharunderscore}{\kern0pt}object\ x\ {\isacharequal}{\kern0pt}\ p\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ get{\isacharunderscore}{\kern0pt}actor\ x\ {\isacharequal}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \ wa{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isasymand}\ \ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ wa\ {\isacharequal}{\kern0pt}\ x{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang\ p\ {\isacharparenleft}{\kern0pt}w\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}Lp\ \ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}Lq\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}w{\isacharunderscore}{\kern0pt}match\ w{\isacharprime}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}Lq\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}root\ q{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ w{\isacharprime}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}Lq\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mbox\ True\ \isakeywordONE{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}w{\isacharunderscore}{\kern0pt}match\ \isakeywordONE{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}mix\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}mix{\isacharunderscore}{\kern0pt}pair\ w{\isacharprime}{\kern0pt}\ w\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}mix\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ t\ \isakeywordTWO{where}\ {\isachardoublequoteopen}t\ {\isasymin}\ {\isasymL}\isactrlsub {\isasymzero}\ {\isasymand}\ t\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymand}\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}mix\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ xc\ \isakeywordTWO{where}\ t{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sync{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymzero}\ t\ xc{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ SyncTraces{\isachardot}{\kern0pt}simps\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}xcm{\isachardot}{\kern0pt}\ mbox{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymmm}\ None\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}\ xcm{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ empty{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run\ sync{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}exec{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ MboxTraces{\isachardot}{\kern0pt}intros\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ w\ {\isasymsqdot}\ x{\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ x\ \isakeywordTWO{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ w\ {\isasymsqdot}\ x{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ w{\isacharprime}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}wx{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}exec\ x{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}word{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}wa{\isachardot}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \ wa{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isasymand}\ \ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ wa\ {\isacharequal}{\kern0pt}\ x{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang\ p\ {\isacharparenleft}{\kern0pt}w\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isasymsqdot}\ x\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p{\isacartoucheclose}\ {\isacartoucheopen}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacartoucheclose}\ w{\isacharprime}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}wx{\isacharunderscore}{\kern0pt}match\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ False\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}node\ q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ NetworkOfCA{\isachardot}{\kern0pt}root{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}node\ NetworkOfCA{\isacharunderscore}{\kern0pt}axioms\ assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ r\ \isakeywordTWO{where}\ qr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ False\ UNIV{\isacharunderscore}{\kern0pt}I\ path{\isacharunderscore}{\kern0pt}from{\isacharunderscore}{\kern0pt}root{\isachardot}{\kern0pt}simps\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}exists\ paths{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ w{\isacharprime}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}Lq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ infl{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}ws{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ q\ r{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ qr\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\ w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ r{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ filter{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}commutative{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ e{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub \ {\isasymand}\ e{\isasymdown}\isactrlsub r\ {\isacharequal}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ e{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ lemma{\isadigit{4}}{\isacharunderscore}{\kern0pt}{\isadigit{4}}{\isacharbrackleft}{\kern0pt}of\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ r\ q{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ r{\isacartoucheclose}\ assms\ \isakeywordONE{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ e\ \isakeywordTWO{where}\ e{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordTWO{and}\ e{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e{\isasymdown}\isactrlsub r\ {\isacharequal}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordTWO{and}\ e{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ qr\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}mix\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}mix{\isacharunderscore}{\kern0pt}pair\ w{\isacharprime}{\kern0pt}\ w\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymsqdot}\ {\isacharquery}{\kern0pt}mix\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ t\ \isakeywordTWO{where}\ {\isachardoublequoteopen}t\ {\isasymin}\ {\isasymL}\isactrlsub {\isasymzero}\ {\isasymand}\ t\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymand}\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ {\isacharquery}{\kern0pt}mix\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ xc\ \isakeywordTWO{where}\ t{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sync{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymzero}\ t\ xc{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ SyncTraces{\isachardot}{\kern0pt}simps\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}xcm{\isachardot}{\kern0pt}\ mbox{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymmm}\ None\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}\ xcm{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ empty{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run\ sync{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}exec{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ MboxTraces{\isachardot}{\kern0pt}intros\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ w\ {\isasymsqdot}\ x{\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ x\ \isakeywordTWO{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ w\ {\isasymsqdot}\ x{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ w{\isacharprime}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}wx{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymsqdot}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}exec\ x{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}word{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ w{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}w{\isacharunderscore}{\kern0pt}match\ \isakeywordONE{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}wa{\isachardot}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \ wa{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isasymand}\ \ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ wa\ {\isacharequal}{\kern0pt}\ x{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang\ p\ {\isacharparenleft}{\kern0pt}w\ {\isasymsqdot}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isasymsqdot}\ x\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p{\isacartoucheclose}\ {\isacartoucheopen}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacartoucheclose}\ w{\isacharprime}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}wx{\isacharunderscore}{\kern0pt}match\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ language{\isacharunderscore}{\kern0pt}shuffle{\isacharunderscore}{\kern0pt}subset\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ v\ \isakeywordTWO{where}\ v{\isacharunderscore}{\kern0pt}orig{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v{\isacharprime}{\kern0pt}\ {\isasymsqunion}{\isasymsqunion}\isactrlsub {\isacharquery}{\kern0pt}\ v{\isachardoublequoteclose}\ \isakeywordTWO{and}\ orig{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}L{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ shuffled{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}shuffle\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ v\ v{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}refl\ w{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}swap\ b\ a\ w\ xs\ ys{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}vq{\isachardot}{\kern0pt}\ \ vq\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}vq{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ infl{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}ws{\isacharbrackleft}{\kern0pt}of\ w\ p\ q{\isacharbrackright}{\kern0pt}\ orig{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}L\ q{\isacharunderscore}{\kern0pt}parent\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ vq\ \isakeywordTWO{where}\ vq{\isacharunderscore}{\kern0pt}v{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}vq{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub p\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub q\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ vq{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vq\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ lem{\isadigit{4}}{\isacharunderscore}{\kern0pt}{\isadigit{4}}{\isacharunderscore}{\kern0pt}prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}topology\ {\isasymand}\ w\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ p\ {\isasymin}\ {\isasymP}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ assms\ swap{\isachardot}{\kern0pt}prems\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{using}\isamarkupfalse%
\ assms\ swap\ vq{\isacharunderscore}{\kern0pt}v{\isacharunderscore}{\kern0pt}match\ vq{\isacharunderscore}{\kern0pt}def\ lem{\isadigit{4}}{\isacharunderscore}{\kern0pt}{\isadigit{4}}{\isacharunderscore}{\kern0pt}prems\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}root\ q{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vq\ {\isasymin}\ {\isasymL}\ q{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ vq{\isacharunderscore}{\kern0pt}def\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}lang\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vq\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mbox\ True\ \isakeywordONE{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ b\ {\isacharhash}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ acc{\isachardot}{\kern0pt}\ mix{\isacharunderscore}{\kern0pt}shuf\ vq\ v\ v{\isacharprime}{\kern0pt}\ acc{\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ mix\ \isakeywordTWO{where}\ {\isachardoublequoteopen}mix{\isacharunderscore}{\kern0pt}shuf\ vq\ v\ v{\isacharprime}{\kern0pt}\ mix{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}mix\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}mix{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}mix\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ t\ \isakeywordTWO{where}\ {\isachardoublequoteopen}t\ {\isasymin}\ {\isasymL}\isactrlsub {\isasymzero}\ {\isasymand}\ t\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymand}\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}mix{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ xc\ \isakeywordTWO{where}\ t{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sync{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymzero}\ t\ xc{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ SyncTraces{\isachardot}{\kern0pt}simps\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}xcm{\isachardot}{\kern0pt}\ mbox{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymmm}\ None\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}\ xcm{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ empty{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run\ sync{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}exec{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ MboxTraces{\isachardot}{\kern0pt}intros\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}w{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}exec\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}word\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ False\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}node\ q{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ NetworkOfCA{\isachardot}{\kern0pt}root{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}node\ NetworkOfCA{\isacharunderscore}{\kern0pt}axioms\ assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ r\ \isakeywordTWO{where}\ qr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ False\ UNIV{\isacharunderscore}{\kern0pt}I\ path{\isacharunderscore}{\kern0pt}from{\isacharunderscore}{\kern0pt}root{\isachardot}{\kern0pt}simps\ path{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}exists\ paths{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}vr{\isachardot}{\kern0pt}\ \ vr\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}vq{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}vr{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ infl{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}ws{\isacharbrackleft}{\kern0pt}of\ vq\ q\ r{\isacharbrackright}{\kern0pt}\ orig{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}L\ vq{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ vr\ \isakeywordTWO{where}\ vr{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vr\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\ vr{\isacharunderscore}{\kern0pt}vq{\isacharunderscore}{\kern0pt}match{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}vq{\isasymdown}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}vr{\isasymdown}\isactrlsub {\isacharbraceleft}{\kern0pt}\isactrlsub q\isactrlsub {\isacharcomma}{\kern0pt}\isactrlsub r\isactrlsub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\isactrlsub {\isacharquery}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ e{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub \ {\isasymand}\ e{\isasymdown}\isactrlsub r\ {\isacharequal}{\kern0pt}\ vr\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ q\ r{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ e{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ lemma{\isadigit{4}}{\isacharunderscore}{\kern0pt}{\isadigit{4}}{\isacharbrackleft}{\kern0pt}of\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vr\ r\ q{\isacharbrackright}{\kern0pt}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}vr\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ r{\isacartoucheclose}\ assms\ \isakeywordONE{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ e\ \isakeywordTWO{where}\ e{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordTWO{and}\ e{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e{\isasymdown}\isactrlsub r\ {\isacharequal}{\kern0pt}\ vr{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordTWO{and}\ e{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e{\isasymdown}\isactrlsub q\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ qr\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymsqdot}\ a\ {\isacharhash}{\kern0pt}\ b\ {\isacharhash}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ acc{\isachardot}{\kern0pt}\ mix{\isacharunderscore}{\kern0pt}shuf\ vq\ v\ v{\isacharprime}{\kern0pt}\ acc{\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ mix\ \isakeywordTWO{where}\ {\isachardoublequoteopen}mix{\isacharunderscore}{\kern0pt}shuf\ vq\ v\ v{\isacharprime}{\kern0pt}\ mix{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}mix\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}mix{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymsqdot}\ {\isacharquery}{\kern0pt}mix\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ t\ \isakeywordTWO{where}\ {\isachardoublequoteopen}t\ {\isasymin}\ {\isasymL}\isactrlsub {\isasymzero}\ {\isasymand}\ t\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymand}\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e\ {\isasymsqdot}\ {\isacharquery}{\kern0pt}mix{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}def\ \isakeywordONE{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ xc\ \isakeywordTWO{where}\ t{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sync{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymzero}\ t\ xc{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ SyncTraces{\isachardot}{\kern0pt}simps\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}xcm{\isachardot}{\kern0pt}\ mbox{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymmm}\ None\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}\ xcm{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ empty{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run\ sync{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}exec{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ MboxTraces{\isachardot}{\kern0pt}intros\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ t{\isacharparenright}{\kern0pt}{\isasymdown}\isactrlsub p\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}w{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{sorry}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ sync{\isacharunderscore}{\kern0pt}exec\ mbox{\isacharunderscore}{\kern0pt}exec{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}infl{\isacharunderscore}{\kern0pt}peer{\isacharunderscore}{\kern0pt}word\ \isakeywordONE{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}trans\ w\ w{\isacharprime}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\isanewline
\isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \isanewline
\ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}R{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}L{\isachardoublequoteclose}\ %
\isamarkupcmt{show that TMbox = TSync, i.e. \<L> = (i.e. the sends are equal%
}\isanewline
\ \ \isakeywordONE{proof}\isamarkupfalse%
\ auto\ %
\isamarkupcmt{cases: w in TMbox, w in TSync%
}\isanewline
\ \ \ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ w\ \isanewline
\ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub \ {\isasymLongrightarrow}\ w{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsub {\isasymzero}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ match{\isacharunderscore}{\kern0pt}exec{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ {\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ mbox{\isacharunderscore}{\kern0pt}trace{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}exec\ {\isacartoucheopen}{\isasymforall}p{\isasymin}{\isasymP}{\isachardot}{\kern0pt}\ {\isasymforall}q{\isasymin}{\isasymP}{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}of\ p\ q\ {\isasymlongrightarrow}\ subset{\isacharunderscore}{\kern0pt}condition\ p\ q\ {\isasymand}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\ {\isasymL}\isactrlsup {\isacharasterisk}{\kern0pt}\isactrlsub {\isasymsqunion}\isactrlsub {\isasymsqunion}\ p{\isacartoucheclose}\ assms\ theorem{\isacharunderscore}{\kern0pt}rightside{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ xcm\ \isakeywordTWO{where}\ {\isachardoublequoteopen}mbox{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymmm}\ None\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ {\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xcm{\isachardoublequoteclose}\ \ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ MboxTraces{\isachardot}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsub {\isasymzero}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ SyncTraces{\isachardot}{\kern0pt}simps\ {\isacartoucheopen}w{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ matched{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{next}\isamarkupfalse%
\ %
\isamarkupcmt{w in TSync  --> show that w' (= w with recvs added) is in EMbox%
}\isanewline
\ \ \ \ \isakeywordTHREE{fix}\isamarkupfalse%
\ w\isanewline
\ \ \ \ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}\isactrlsub {\isasymzero}\ {\isasymLongrightarrow}\ {\isasymexists}w{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}\ {\isasymand}\ w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isakeywordTHREE{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}\isactrlsub {\isasymzero}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ %
\isamarkupcmt{For every output in w, Nsync was able to send the respective message and directly
      receive it%
}\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ SyncTraces{\isachardot}{\kern0pt}cases\ run{\isacharunderscore}{\kern0pt}produces{\isacharunderscore}{\kern0pt}no{\isacharunderscore}{\kern0pt}inputs{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ xc\ \isakeywordTWO{where}\ w{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sync{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymzero}\ w\ xc{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ SyncTraces{\isachardot}{\kern0pt}simps\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymL}\isactrlsub {\isasymzero}{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isasymL}\isactrlsub {\isasyminfinity}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymL}\isactrlsub {\isasymzero}{\isacartoucheclose}\ mbox{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}lang{\isacharunderscore}{\kern0pt}unbounded{\isacharunderscore}{\kern0pt}inclusion\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isakeywordTHREE{obtain}\isamarkupfalse%
\ w{\isacharprime}{\kern0pt}\ \isakeywordTWO{where}\ {\isachardoublequoteopen}w{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ w{\isachardoublequoteclose}\ \isakeywordONE{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ %
\isamarkupcmt{then Nmbox can simulate the run of w in Nsync by sending every mes-
      sage first to the mailbox of the receiver and then receiving this message%
}\isanewline
\ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \ \ \isakeywordONE{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}xc\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ %
\isamarkupcmt{this case distinction isn't in the paper but i need it here to properly get the simulated run%
}\isanewline
\ \ \ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}mbox{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymmm}\ None\ {\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ w{\isacartoucheclose}\ empty{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run\ w{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isasymdownharpoonright}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isakeywordONE{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isakeywordTHREE{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{obtain}\isamarkupfalse%
\ xcm\ \isakeywordTWO{where}\ sim{\isacharunderscore}{\kern0pt}run{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}mbox{\isacharunderscore}{\kern0pt}run\ {\isasymC}\isactrlsub {\isasymI}\isactrlsub {\isasymmm}\ None\ w{\isacharprime}{\kern0pt}\ xcm\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ xcm\ p\ {\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}last\ xc{\isacharparenright}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isasymepsilon}\ {\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ w{\isacartoucheclose}\ sync{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}mbox{\isacharunderscore}{\kern0pt}run\ w{\isacharunderscore}{\kern0pt}sync{\isacharunderscore}{\kern0pt}run\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ MboxTraces{\isachardot}{\kern0pt}intros\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isacharequal}{\kern0pt}\ w{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}w{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}recvs\ w{\isacartoucheclose}\ adding{\isacharunderscore}{\kern0pt}recvs{\isacharunderscore}{\kern0pt}keeps{\isacharunderscore}{\kern0pt}send{\isacharunderscore}{\kern0pt}order\ \isakeywordONE{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordONE{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isasymL}\isactrlsub {\isasyminfinity}{\isachardoublequoteclose}\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isakeywordONE{then}\isamarkupfalse%
\ \isakeywordTHREE{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isakeywordONE{using}\isamarkupfalse%
\ {\isacartoucheopen}w\ {\isacharequal}{\kern0pt}\ w{\isacharprime}{\kern0pt}{\isasymdown}\isactrlsub {\isacharbang}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}w{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isasymT}\isactrlbsub None\isactrlesub {\isacartoucheclose}\ \isakeywordONE{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\ \ \ \ \ \ \isanewline
\ \ \ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\ \ \isakeywordONE{qed}\isamarkupfalse%
\isanewline
\isakeywordONE{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Topology is a Forest%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isakeywordONE{inductive}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}forest\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}peer\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}peer\ topology\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
\ \ IFSingle{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}tree\ P\ E\ {\isasymLongrightarrow}\ is{\isacharunderscore}{\kern0pt}forest\ P\ E{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ IFAddTree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlbrakk}is{\isacharunderscore}{\kern0pt}forest\ P{\isadigit{1}}\ E{\isadigit{1}}{\isacharsemicolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}tree\ P{\isadigit{2}}\ E{\isadigit{2}}{\isacharsemicolon}{\kern0pt}\ P{\isadigit{1}}\ {\isasyminter}\ P{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ is{\isacharunderscore}{\kern0pt}forest\ {\isacharparenleft}{\kern0pt}P{\isadigit{1}}\ {\isasymunion}\ P{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}E{\isadigit{1}}\ {\isasymunion}\ E{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isakeywordONE{abbreviation}\isamarkupfalse%
\ forest{\isacharunderscore}{\kern0pt}topology\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bool{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
\ \ {\isachardoublequoteopen}forest{\isacharunderscore}{\kern0pt}topology\ {\isasymequiv}\ is{\isacharunderscore}{\kern0pt}forest\ {\isacharparenleft}{\kern0pt}UNIV\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}peer\ set{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymG}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isakeywordTWO{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isakeywordTWO{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Desktop/isabelle-sync/Formalization_Isabelle_Nicole/Synchronizability/Express.thy%:%
%:%6=4%:%
%:%7=5%:%
%:%12=6%:%
%:%13=6%:%
%:%14=7%:%
%:%15=8%:%
%:%20=8%:%
%:%23=9%:%
%:%24=10%:%
%:%25=10%:%
%:%26=11%:%
%:%33=13%:%
%:%37=15%:%
%:%47=23%:%
%:%48=23%:%
%:%49=24%:%
%:%50=25%:%
%:%51=26%:%
%:%52=27%:%
%:%53=28%:%
%:%56=29%:%
%:%60=29%:%
%:%61=29%:%
%:%62=30%:%
%:%63=30%:%
%:%64=31%:%
%:%65=31%:%
%:%66=31%:%
%:%67=31%:%
%:%68=32%:%
%:%69=32%:%
%:%70=32%:%
%:%71=32%:%
%:%72=32%:%
%:%73=33%:%
%:%74=33%:%
%:%75=33%:%
%:%76=33%:%
%:%77=34%:%
%:%78=35%:%
%:%79=35%:%
%:%80=35%:%
%:%81=35%:%
%:%82=36%:%
%:%83=36%:%
%:%84=36%:%
%:%85=36%:%
%:%86=37%:%
%:%87=37%:%
%:%88=37%:%
%:%89=37%:%
%:%90=38%:%
%:%91=38%:%
%:%92=38%:%
%:%93=38%:%
%:%94=39%:%
%:%95=39%:%
%:%96=40%:%
%:%97=40%:%
%:%98=41%:%
%:%99=41%:%
%:%100=41%:%
%:%101=41%:%
%:%102=42%:%
%:%103=42%:%
%:%104=42%:%
%:%105=42%:%
%:%106=42%:%
%:%107=43%:%
%:%108=43%:%
%:%109=43%:%
%:%110=43%:%
%:%111=43%:%
%:%112=44%:%
%:%113=44%:%
%:%114=44%:%
%:%115=44%:%
%:%116=45%:%
%:%117=45%:%
%:%118=45%:%
%:%119=45%:%
%:%120=46%:%
%:%121=46%:%
%:%122=46%:%
%:%123=46%:%
%:%124=47%:%
%:%125=47%:%
%:%126=48%:%
%:%127=48%:%
%:%128=49%:%
%:%129=49%:%
%:%130=49%:%
%:%131=49%:%
%:%132=50%:%
%:%133=50%:%
%:%134=50%:%
%:%135=50%:%
%:%136=51%:%
%:%137=51%:%
%:%138=51%:%
%:%139=51%:%
%:%140=52%:%
%:%141=52%:%
%:%142=52%:%
%:%143=52%:%
%:%144=53%:%
%:%145=53%:%
%:%146=53%:%
%:%147=53%:%
%:%148=54%:%
%:%149=55%:%
%:%150=55%:%
%:%151=55%:%
%:%152=55%:%
%:%153=55%:%
%:%154=56%:%
%:%155=56%:%
%:%156=56%:%
%:%157=56%:%
%:%158=57%:%
%:%159=57%:%
%:%160=57%:%
%:%161=57%:%
%:%162=58%:%
%:%163=58%:%
%:%164=58%:%
%:%165=58%:%
%:%166=59%:%
%:%167=59%:%
%:%168=59%:%
%:%169=60%:%
%:%170=61%:%
%:%171=61%:%
%:%172=62%:%
%:%173=63%:%
%:%174=63%:%
%:%175=63%:%
%:%176=63%:%
%:%177=64%:%
%:%178=64%:%
%:%179=64%:%
%:%180=64%:%
%:%181=65%:%
%:%182=65%:%
%:%183=65%:%
%:%184=65%:%
%:%185=65%:%
%:%186=66%:%
%:%187=66%:%
%:%188=66%:%
%:%189=67%:%
%:%190=67%:%
%:%191=67%:%
%:%192=67%:%
%:%193=67%:%
%:%194=68%:%
%:%195=69%:%
%:%196=70%:%
%:%197=71%:%
%:%198=71%:%
%:%199=71%:%
%:%200=72%:%
%:%201=73%:%
%:%202=74%:%
%:%203=74%:%
%:%204=74%:%
%:%205=74%:%
%:%206=75%:%
%:%207=75%:%
%:%208=75%:%
%:%209=75%:%
%:%210=76%:%
%:%211=76%:%
%:%212=76%:%
%:%213=76%:%
%:%214=76%:%
%:%215=77%:%
%:%216=77%:%
%:%217=77%:%
%:%218=77%:%
%:%219=77%:%
%:%220=78%:%
%:%226=78%:%
%:%229=79%:%
%:%229=83%:%
%:%230=84%:%
%:%231=87%:%
%:%232=88%:%
%:%233=88%:%
%:%234=89%:%
%:%235=90%:%
%:%236=91%:%
%:%237=92%:%
%:%240=93%:%
%:%244=93%:%
%:%245=93%:%
%:%246=94%:%
%:%247=94%:%
%:%248=95%:%
%:%249=95%:%
%:%250=95%:%
%:%251=95%:%
%:%252=96%:%
%:%253=96%:%
%:%254=96%:%
%:%255=96%:%
%:%256=96%:%
%:%257=97%:%
%:%258=97%:%
%:%259=97%:%
%:%260=97%:%
%:%261=98%:%
%:%262=99%:%
%:%263=99%:%
%:%264=99%:%
%:%265=99%:%
%:%266=100%:%
%:%267=100%:%
%:%268=100%:%
%:%269=100%:%
%:%270=101%:%
%:%271=101%:%
%:%272=101%:%
%:%273=101%:%
%:%274=102%:%
%:%275=102%:%
%:%276=102%:%
%:%277=102%:%
%:%278=103%:%
%:%279=103%:%
%:%280=104%:%
%:%281=104%:%
%:%282=105%:%
%:%283=105%:%
%:%284=105%:%
%:%285=105%:%
%:%286=106%:%
%:%287=106%:%
%:%288=106%:%
%:%289=106%:%
%:%290=106%:%
%:%291=107%:%
%:%292=107%:%
%:%293=107%:%
%:%294=107%:%
%:%295=107%:%
%:%296=108%:%
%:%297=108%:%
%:%298=108%:%
%:%299=108%:%
%:%300=109%:%
%:%301=109%:%
%:%302=109%:%
%:%303=109%:%
%:%304=110%:%
%:%305=110%:%
%:%306=110%:%
%:%307=110%:%
%:%308=111%:%
%:%309=111%:%
%:%310=112%:%
%:%311=112%:%
%:%312=113%:%
%:%313=113%:%
%:%314=113%:%
%:%315=113%:%
%:%316=114%:%
%:%317=114%:%
%:%318=114%:%
%:%319=114%:%
%:%320=115%:%
%:%321=115%:%
%:%322=115%:%
%:%323=115%:%
%:%324=116%:%
%:%325=116%:%
%:%326=116%:%
%:%327=116%:%
%:%328=117%:%
%:%329=117%:%
%:%330=117%:%
%:%331=117%:%
%:%332=118%:%
%:%333=119%:%
%:%334=119%:%
%:%335=119%:%
%:%336=119%:%
%:%337=119%:%
%:%338=120%:%
%:%339=120%:%
%:%340=120%:%
%:%341=120%:%
%:%342=121%:%
%:%343=121%:%
%:%344=121%:%
%:%345=121%:%
%:%346=122%:%
%:%347=122%:%
%:%348=122%:%
%:%349=122%:%
%:%350=123%:%
%:%351=123%:%
%:%352=123%:%
%:%353=124%:%
%:%354=125%:%
%:%355=125%:%
%:%356=126%:%
%:%357=127%:%
%:%358=127%:%
%:%359=127%:%
%:%360=127%:%
%:%361=128%:%
%:%362=128%:%
%:%363=128%:%
%:%364=128%:%
%:%365=129%:%
%:%366=129%:%
%:%367=129%:%
%:%368=129%:%
%:%369=129%:%
%:%370=130%:%
%:%371=130%:%
%:%372=130%:%
%:%373=131%:%
%:%374=131%:%
%:%375=131%:%
%:%376=131%:%
%:%377=131%:%
%:%378=132%:%
%:%379=133%:%
%:%380=134%:%
%:%381=135%:%
%:%382=135%:%
%:%383=135%:%
%:%384=136%:%
%:%385=137%:%
%:%386=138%:%
%:%387=138%:%
%:%388=138%:%
%:%389=138%:%
%:%390=139%:%
%:%391=139%:%
%:%392=139%:%
%:%393=139%:%
%:%394=140%:%
%:%395=140%:%
%:%396=140%:%
%:%397=140%:%
%:%398=140%:%
%:%399=141%:%
%:%400=141%:%
%:%401=141%:%
%:%402=141%:%
%:%403=141%:%
%:%404=142%:%
%:%405=142%:%
%:%406=142%:%
%:%407=142%:%
%:%408=143%:%
%:%409=143%:%
%:%410=143%:%
%:%411=143%:%
%:%412=143%:%
%:%413=143%:%
%:%414=144%:%
%:%429=156%:%
%:%439=159%:%
%:%440=159%:%
%:%441=160%:%
%:%442=161%:%
%:%445=162%:%
%:%449=162%:%
%:%450=162%:%
%:%451=163%:%
%:%452=163%:%
%:%453=164%:%
%:%454=164%:%
%:%455=165%:%
%:%456=165%:%
%:%457=165%:%
%:%458=165%:%
%:%459=166%:%
%:%460=166%:%
%:%461=167%:%
%:%462=167%:%
%:%463=168%:%
%:%464=169%:%
%:%465=169%:%
%:%466=169%:%
%:%467=169%:%
%:%468=170%:%
%:%469=170%:%
%:%470=170%:%
%:%471=170%:%
%:%472=170%:%
%:%473=171%:%
%:%474=171%:%
%:%475=171%:%
%:%476=171%:%
%:%477=171%:%
%:%478=172%:%
%:%479=172%:%
%:%480=173%:%
%:%481=173%:%
%:%482=173%:%
%:%483=173%:%
%:%484=174%:%
%:%485=174%:%
%:%486=174%:%
%:%487=174%:%
%:%488=175%:%
%:%489=175%:%
%:%490=175%:%
%:%491=175%:%
%:%492=176%:%
%:%493=176%:%
%:%494=176%:%
%:%495=176%:%
%:%496=176%:%
%:%497=177%:%
%:%498=177%:%
%:%499=177%:%
%:%500=177%:%
%:%501=178%:%
%:%502=179%:%
%:%503=179%:%
%:%504=179%:%
%:%505=179%:%
%:%506=180%:%
%:%507=180%:%
%:%508=180%:%
%:%509=180%:%
%:%510=180%:%
%:%511=181%:%
%:%512=181%:%
%:%513=181%:%
%:%514=181%:%
%:%515=182%:%
%:%516=182%:%
%:%517=182%:%
%:%518=183%:%
%:%519=183%:%
%:%520=183%:%
%:%521=183%:%
%:%522=183%:%
%:%523=184%:%
%:%524=184%:%
%:%525=184%:%
%:%526=184%:%
%:%527=185%:%
%:%528=185%:%
%:%529=185%:%
%:%530=185%:%
%:%531=186%:%
%:%532=186%:%
%:%533=186%:%
%:%534=186%:%
%:%535=187%:%
%:%536=187%:%
%:%537=187%:%
%:%538=187%:%
%:%539=188%:%
%:%540=189%:%
%:%541=189%:%
%:%542=189%:%
%:%543=190%:%
%:%544=190%:%
%:%545=190%:%
%:%546=190%:%
%:%547=190%:%
%:%548=191%:%
%:%549=191%:%
%:%550=191%:%
%:%551=191%:%
%:%552=191%:%
%:%553=192%:%
%:%554=193%:%
%:%555=193%:%
%:%556=193%:%
%:%557=193%:%
%:%558=194%:%
%:%559=194%:%
%:%560=195%:%
%:%561=195%:%
%:%562=196%:%
%:%563=196%:%
%:%564=196%:%
%:%565=196%:%
%:%566=196%:%
%:%567=196%:%
%:%568=197%:%
%:%569=198%:%
%:%570=198%:%
%:%571=198%:%
%:%572=198%:%
%:%573=198%:%
%:%574=199%:%
%:%575=199%:%
%:%576=199%:%
%:%577=199%:%
%:%578=200%:%
%:%579=201%:%
%:%580=201%:%
%:%581=201%:%
%:%582=201%:%
%:%583=201%:%
%:%584=202%:%
%:%585=202%:%
%:%586=203%:%
%:%587=203%:%
%:%588=204%:%
%:%589=205%:%
%:%590=205%:%
%:%591=205%:%
%:%592=205%:%
%:%593=206%:%
%:%594=206%:%
%:%595=206%:%
%:%596=206%:%
%:%597=206%:%
%:%598=207%:%
%:%599=208%:%
%:%600=208%:%
%:%601=208%:%
%:%602=209%:%
%:%603=209%:%
%:%604=209%:%
%:%605=209%:%
%:%606=210%:%
%:%607=210%:%
%:%608=210%:%
%:%609=210%:%
%:%610=211%:%
%:%611=211%:%
%:%612=211%:%
%:%613=211%:%
%:%614=212%:%
%:%615=212%:%
%:%616=212%:%
%:%617=212%:%
%:%618=213%:%
%:%619=213%:%
%:%620=213%:%
%:%621=214%:%
%:%622=214%:%
%:%623=214%:%
%:%624=214%:%
%:%625=215%:%
%:%626=215%:%
%:%627=215%:%
%:%628=215%:%
%:%629=216%:%
%:%630=216%:%
%:%631=216%:%
%:%632=216%:%
%:%633=217%:%
%:%634=218%:%
%:%635=218%:%
%:%636=218%:%
%:%637=219%:%
%:%638=219%:%
%:%639=219%:%
%:%640=219%:%
%:%641=220%:%
%:%642=221%:%
%:%643=221%:%
%:%644=221%:%
%:%645=221%:%
%:%646=221%:%
%:%647=222%:%
%:%648=222%:%
%:%649=222%:%
%:%650=222%:%
%:%651=222%:%
%:%652=223%:%
%:%653=223%:%
%:%654=223%:%
%:%655=223%:%
%:%656=224%:%
%:%657=224%:%
%:%658=224%:%
%:%659=224%:%
%:%660=224%:%
%:%661=224%:%
%:%662=225%:%
%:%663=225%:%
%:%664=225%:%
%:%665=225%:%
%:%666=225%:%
%:%667=226%:%
%:%668=226%:%
%:%669=226%:%
%:%670=226%:%
%:%671=227%:%
%:%672=227%:%
%:%673=227%:%
%:%674=227%:%
%:%675=228%:%
%:%676=229%:%
%:%677=229%:%
%:%678=229%:%
%:%679=230%:%
%:%680=230%:%
%:%681=230%:%
%:%682=230%:%
%:%683=231%:%
%:%684=231%:%
%:%685=231%:%
%:%686=231%:%
%:%687=232%:%
%:%688=232%:%
%:%689=232%:%
%:%690=233%:%
%:%691=233%:%
%:%692=233%:%
%:%693=234%:%
%:%694=234%:%
%:%695=235%:%
%:%696=235%:%
%:%697=235%:%
%:%698=235%:%
%:%699=236%:%
%:%700=236%:%
%:%701=236%:%
%:%702=236%:%
%:%703=236%:%
%:%704=237%:%
%:%705=237%:%
%:%706=237%:%
%:%707=237%:%
%:%708=237%:%
%:%709=238%:%
%:%710=238%:%
%:%711=238%:%
%:%712=238%:%
%:%713=239%:%
%:%714=239%:%
%:%715=239%:%
%:%716=239%:%
%:%717=240%:%
%:%718=240%:%
%:%719=240%:%
%:%720=240%:%
%:%721=241%:%
%:%722=241%:%
%:%723=241%:%
%:%724=241%:%
%:%725=241%:%
%:%726=242%:%
%:%727=242%:%
%:%728=243%:%
%:%729=243%:%
%:%730=243%:%
%:%731=243%:%
%:%732=243%:%
%:%733=244%:%
%:%734=244%:%
%:%735=244%:%
%:%736=244%:%
%:%737=244%:%
%:%738=245%:%
%:%739=245%:%
%:%740=245%:%
%:%741=245%:%
%:%742=246%:%
%:%743=246%:%
%:%744=246%:%
%:%745=246%:%
%:%746=247%:%
%:%747=247%:%
%:%748=247%:%
%:%749=247%:%
%:%750=248%:%
%:%751=248%:%
%:%752=249%:%
%:%753=249%:%
%:%754=249%:%
%:%755=249%:%
%:%756=250%:%
%:%757=250%:%
%:%758=250%:%
%:%759=250%:%
%:%760=250%:%
%:%761=251%:%
%:%762=251%:%
%:%763=251%:%
%:%764=251%:%
%:%765=252%:%
%:%766=252%:%
%:%767=252%:%
%:%768=253%:%
%:%769=254%:%
%:%770=254%:%
%:%771=254%:%
%:%772=254%:%
%:%773=255%:%
%:%774=256%:%
%:%775=256%:%
%:%776=256%:%
%:%777=257%:%
%:%778=257%:%
%:%779=257%:%
%:%780=257%:%
%:%781=258%:%
%:%782=258%:%
%:%783=258%:%
%:%784=258%:%
%:%785=259%:%
%:%786=259%:%
%:%787=259%:%
%:%788=259%:%
%:%789=260%:%
%:%790=260%:%
%:%791=260%:%
%:%792=261%:%
%:%793=261%:%
%:%794=261%:%
%:%795=262%:%
%:%796=262%:%
%:%797=262%:%
%:%798=263%:%
%:%799=263%:%
%:%800=263%:%
%:%801=263%:%
%:%802=264%:%
%:%803=264%:%
%:%804=264%:%
%:%805=264%:%
%:%806=264%:%
%:%807=265%:%
%:%808=265%:%
%:%809=265%:%
%:%810=265%:%
%:%811=266%:%
%:%812=267%:%
%:%813=267%:%
%:%814=267%:%
%:%815=268%:%
%:%816=268%:%
%:%817=268%:%
%:%818=268%:%
%:%819=268%:%
%:%820=269%:%
%:%821=269%:%
%:%822=269%:%
%:%823=269%:%
%:%824=270%:%
%:%825=271%:%
%:%826=271%:%
%:%827=271%:%
%:%828=272%:%
%:%829=272%:%
%:%830=272%:%
%:%831=273%:%
%:%832=273%:%
%:%833=273%:%
%:%834=273%:%
%:%835=274%:%
%:%836=274%:%
%:%837=274%:%
%:%838=274%:%
%:%839=274%:%
%:%840=275%:%
%:%841=276%:%
%:%842=276%:%
%:%843=276%:%
%:%844=276%:%
%:%845=276%:%
%:%846=277%:%
%:%847=277%:%
%:%848=277%:%
%:%849=277%:%
%:%850=278%:%
%:%851=278%:%
%:%852=278%:%
%:%853=278%:%
%:%854=279%:%
%:%855=279%:%
%:%856=279%:%
%:%857=279%:%
%:%858=280%:%
%:%859=281%:%
%:%860=281%:%
%:%861=281%:%
%:%862=281%:%
%:%863=281%:%
%:%864=282%:%
%:%865=282%:%
%:%866=282%:%
%:%867=283%:%
%:%868=283%:%
%:%869=283%:%
%:%870=283%:%
%:%871=284%:%
%:%872=284%:%
%:%873=284%:%
%:%874=285%:%
%:%875=285%:%
%:%876=285%:%
%:%877=285%:%
%:%878=286%:%
%:%879=286%:%
%:%880=286%:%
%:%881=286%:%
%:%882=286%:%
%:%883=287%:%
%:%884=287%:%
%:%885=287%:%
%:%886=288%:%
%:%887=288%:%
%:%888=288%:%
%:%889=288%:%
%:%890=288%:%
%:%891=289%:%
%:%892=289%:%
%:%893=289%:%
%:%894=289%:%
%:%895=290%:%
%:%896=290%:%
%:%897=290%:%
%:%898=290%:%
%:%899=290%:%
%:%900=291%:%
%:%901=291%:%
%:%902=291%:%
%:%903=291%:%
%:%904=291%:%
%:%905=292%:%
%:%906=293%:%
%:%907=293%:%
%:%908=293%:%
%:%909=293%:%
%:%910=293%:%
%:%911=294%:%
%:%912=294%:%
%:%913=294%:%
%:%914=294%:%
%:%915=295%:%
%:%916=295%:%
%:%917=296%:%
%:%918=296%:%
%:%919=296%:%
%:%920=297%:%
%:%921=297%:%
%:%922=298%:%
%:%923=298%:%
%:%924=299%:%
%:%925=299%:%
%:%926=299%:%
%:%927=299%:%
%:%928=299%:%
%:%929=300%:%
%:%930=300%:%
%:%931=300%:%
%:%932=300%:%
%:%933=300%:%
%:%934=301%:%
%:%935=301%:%
%:%936=301%:%
%:%937=301%:%
%:%938=301%:%
%:%939=301%:%
%:%940=302%:%
%:%941=302%:%
%:%942=303%:%
%:%943=303%:%
%:%944=304%:%
%:%945=304%:%
%:%946=304%:%
%:%947=304%:%
%:%948=305%:%
%:%948=306%:%
%:%949=307%:%
%:%950=307%:%
%:%951=307%:%
%:%952=307%:%
%:%953=307%:%
%:%954=308%:%
%:%955=308%:%
%:%956=308%:%
%:%957=309%:%
%:%958=309%:%
%:%959=309%:%
%:%960=310%:%
%:%961=311%:%
%:%962=311%:%
%:%963=311%:%
%:%964=312%:%
%:%965=312%:%
%:%966=313%:%
%:%967=313%:%
%:%968=314%:%
%:%969=315%:%
%:%969=316%:%
%:%970=317%:%
%:%970=318%:%
%:%971=319%:%
%:%972=319%:%
%:%975=322%:%
%:%976=323%:%
%:%977=323%:%
%:%978=324%:%
%:%979=325%:%
%:%980=326%:%
%:%981=327%:%
%:%982=327%:%
%:%983=327%:%
%:%984=327%:%
%:%985=328%:%
%:%986=328%:%
%:%987=329%:%
%:%988=329%:%
%:%989=329%:%
%:%990=330%:%
%:%991=330%:%
%:%992=330%:%
%:%993=330%:%
%:%994=331%:%
%:%995=331%:%
%:%996=331%:%
%:%997=331%:%
%:%998=331%:%
%:%999=332%:%
%:%1000=332%:%
%:%1001=332%:%
%:%1002=333%:%
%:%1003=333%:%
%:%1006=336%:%
%:%1007=336%:%
%:%1008=336%:%
%:%1009=337%:%
%:%1010=337%:%
%:%1011=337%:%
%:%1012=337%:%
%:%1013=338%:%
%:%1014=338%:%
%:%1015=339%:%
%:%1016=339%:%
%:%1017=339%:%
%:%1018=339%:%
%:%1019=339%:%
%:%1020=340%:%
%:%1021=340%:%
%:%1022=341%:%
%:%1023=341%:%
%:%1024=342%:%
%:%1025=343%:%
%:%1026=344%:%
%:%1027=344%:%
%:%1028=344%:%
%:%1029=344%:%
%:%1030=344%:%
%:%1031=345%:%
%:%1032=345%:%
%:%1033=345%:%
%:%1034=345%:%
%:%1035=345%:%
%:%1036=346%:%
%:%1037=346%:%
%:%1038=346%:%
%:%1039=346%:%
%:%1040=347%:%
%:%1041=348%:%
%:%1042=348%:%
%:%1043=349%:%
%:%1044=349%:%
%:%1045=349%:%
%:%1046=349%:%
%:%1047=350%:%
%:%1048=350%:%
%:%1049=350%:%
%:%1050=350%:%
%:%1051=350%:%
%:%1052=351%:%
%:%1053=351%:%
%:%1054=352%:%
%:%1055=352%:%
%:%1056=353%:%
%:%1057=354%:%
%:%1058=354%:%
%:%1059=355%:%
%:%1060=355%:%
%:%1061=355%:%
%:%1062=356%:%
%:%1063=357%:%
%:%1064=357%:%
%:%1065=357%:%
%:%1066=357%:%
%:%1067=358%:%
%:%1067=359%:%
%:%1068=360%:%
%:%1069=360%:%
%:%1070=360%:%
%:%1071=361%:%
%:%1072=361%:%
%:%1073=361%:%
%:%1074=361%:%
%:%1075=362%:%
%:%1076=363%:%
%:%1077=363%:%
%:%1078=363%:%
%:%1079=363%:%
%:%1080=364%:%
%:%1081=364%:%
%:%1082=364%:%
%:%1083=364%:%
%:%1084=364%:%
%:%1085=365%:%
%:%1085=366%:%
%:%1086=367%:%
%:%1087=367%:%
%:%1088=367%:%
%:%1089=367%:%
%:%1090=368%:%
%:%1105=370%:%
%:%1115=374%:%
%:%1116=374%:%
%:%1117=375%:%
%:%1118=376%:%
%:%1119=377%:%
%:%1126=378%:%
%:%1127=378%:%
%:%1128=379%:%
%:%1129=380%:%
%:%1130=380%:%
%:%1131=381%:%
%:%1132=381%:%
%:%1133=382%:%
%:%1134=382%:%
%:%1135=383%:%
%:%1136=383%:%
%:%1137=384%:%
%:%1138=384%:%
%:%1139=385%:%
%:%1140=385%:%
%:%1141=385%:%
%:%1142=385%:%
%:%1143=386%:%
%:%1144=386%:%
%:%1145=387%:%
%:%1146=387%:%
%:%1147=388%:%
%:%1148=389%:%
%:%1149=389%:%
%:%1150=389%:%
%:%1151=390%:%
%:%1152=390%:%
%:%1153=391%:%
%:%1153=392%:%
%:%1154=393%:%
%:%1155=393%:%
%:%1156=394%:%
%:%1157=394%:%
%:%1158=395%:%
%:%1159=396%:%
%:%1160=397%:%
%:%1161=398%:%
%:%1162=399%:%
%:%1163=399%:%
%:%1164=399%:%
%:%1165=400%:%
%:%1166=401%:%
%:%1167=401%:%
%:%1168=402%:%
%:%1169=402%:%
%:%1170=403%:%
%:%1171=403%:%
%:%1172=404%:%
%:%1173=404%:%
%:%1174=404%:%
%:%1175=404%:%
%:%1176=404%:%
%:%1177=405%:%
%:%1178=406%:%
%:%1179=407%:%
%:%1180=407%:%
%:%1181=407%:%
%:%1182=407%:%
%:%1183=407%:%
%:%1184=408%:%
%:%1185=409%:%
%:%1186=409%:%
%:%1187=409%:%
%:%1188=409%:%
%:%1189=410%:%
%:%1190=411%:%
%:%1190=412%:%
%:%1191=413%:%
%:%1192=413%:%
%:%1193=414%:%
%:%1194=414%:%
%:%1195=414%:%
%:%1196=415%:%
%:%1197=415%:%
%:%1198=415%:%
%:%1199=415%:%
%:%1200=415%:%
%:%1201=416%:%
%:%1202=416%:%
%:%1203=416%:%
%:%1204=416%:%
%:%1205=416%:%
%:%1206=417%:%
%:%1207=418%:%
%:%1208=418%:%
%:%1209=418%:%
%:%1210=418%:%
%:%1211=418%:%
%:%1212=419%:%
%:%1213=420%:%
%:%1214=420%:%
%:%1215=420%:%
%:%1216=420%:%
%:%1217=420%:%
%:%1218=421%:%
%:%1218=422%:%
%:%1219=423%:%
%:%1220=423%:%
%:%1221=423%:%
%:%1222=423%:%
%:%1223=424%:%
%:%1224=424%:%
%:%1225=424%:%
%:%1226=424%:%
%:%1227=425%:%
%:%1228=425%:%
%:%1229=425%:%
%:%1230=425%:%
%:%1231=426%:%
%:%1232=426%:%
%:%1233=426%:%
%:%1234=426%:%
%:%1235=427%:%
%:%1236=427%:%
%:%1237=427%:%
%:%1238=427%:%
%:%1239=428%:%
%:%1240=428%:%
%:%1241=428%:%
%:%1242=428%:%
%:%1243=429%:%
%:%1244=429%:%
%:%1245=430%:%
%:%1246=430%:%
%:%1247=431%:%
%:%1248=431%:%
%:%1249=431%:%
%:%1250=431%:%
%:%1251=432%:%
%:%1252=432%:%
%:%1253=432%:%
%:%1254=432%:%
%:%1255=433%:%
%:%1256=434%:%
%:%1257=434%:%
%:%1258=434%:%
%:%1259=435%:%
%:%1260=435%:%
%:%1261=435%:%
%:%1262=436%:%
%:%1263=436%:%
%:%1264=436%:%
%:%1265=436%:%
%:%1266=437%:%
%:%1267=437%:%
%:%1268=437%:%
%:%1269=437%:%
%:%1270=438%:%
%:%1270=440%:%
%:%1271=441%:%
%:%1272=441%:%
%:%1273=441%:%
%:%1274=442%:%
%:%1275=442%:%
%:%1276=442%:%
%:%1277=443%:%
%:%1278=443%:%
%:%1279=443%:%
%:%1280=444%:%
%:%1281=444%:%
%:%1282=444%:%
%:%1283=445%:%
%:%1283=446%:%
%:%1284=447%:%
%:%1285=447%:%
%:%1286=448%:%
%:%1286=450%:%
%:%1287=451%:%
%:%1288=451%:%
%:%1289=451%:%
%:%1290=452%:%
%:%1290=456%:%
%:%1291=457%:%
%:%1292=457%:%
%:%1293=457%:%
%:%1294=457%:%
%:%1295=457%:%
%:%1296=458%:%
%:%1297=458%:%
%:%1298=458%:%
%:%1299=458%:%
%:%1300=458%:%
%:%1301=459%:%
%:%1302=460%:%
%:%1303=460%:%
%:%1304=460%:%
%:%1305=460%:%
%:%1306=460%:%
%:%1307=461%:%
%:%1308=462%:%
%:%1309=462%:%
%:%1310=462%:%
%:%1311=462%:%
%:%1312=462%:%
%:%1313=463%:%
%:%1313=464%:%
%:%1314=465%:%
%:%1315=465%:%
%:%1316=465%:%
%:%1317=465%:%
%:%1318=466%:%
%:%1319=466%:%
%:%1320=466%:%
%:%1321=466%:%
%:%1322=467%:%
%:%1323=467%:%
%:%1324=467%:%
%:%1325=467%:%
%:%1326=468%:%
%:%1326=470%:%
%:%1327=471%:%
%:%1328=471%:%
%:%1329=471%:%
%:%1330=471%:%
%:%1331=472%:%
%:%1332=472%:%
%:%1333=472%:%
%:%1334=472%:%
%:%1335=473%:%
%:%1336=473%:%
%:%1337=473%:%
%:%1338=473%:%
%:%1339=474%:%
%:%1340=474%:%
%:%1341=474%:%
%:%1342=474%:%
%:%1343=475%:%
%:%1344=475%:%
%:%1345=476%:%
%:%1346=476%:%
%:%1347=477%:%
%:%1348=478%:%
%:%1349=478%:%
%:%1350=479%:%
%:%1351=479%:%
%:%1352=480%:%
%:%1353=481%:%
%:%1354=481%:%
%:%1355=481%:%
%:%1356=481%:%
%:%1357=482%:%
%:%1358=483%:%
%:%1359=483%:%
%:%1360=484%:%
%:%1361=484%:%
%:%1362=485%:%
%:%1363=485%:%
%:%1364=486%:%
%:%1365=487%:%
%:%1366=487%:%
%:%1367=488%:%
%:%1368=488%:%
%:%1369=488%:%
%:%1370=488%:%
%:%1371=488%:%
%:%1372=489%:%
%:%1373=489%:%
%:%1374=489%:%
%:%1375=490%:%
%:%1376=490%:%
%:%1377=491%:%
%:%1378=491%:%
%:%1379=492%:%
%:%1380=492%:%
%:%1381=492%:%
%:%1382=492%:%
%:%1383=493%:%
%:%1384=493%:%
%:%1385=494%:%
%:%1386=494%:%
%:%1387=495%:%
%:%1388=496%:%
%:%1389=496%:%
%:%1390=496%:%
%:%1391=497%:%
%:%1392=497%:%
%:%1393=497%:%
%:%1394=498%:%
%:%1395=498%:%
%:%1396=498%:%
%:%1397=498%:%
%:%1398=499%:%
%:%1399=499%:%
%:%1400=499%:%
%:%1401=499%:%
%:%1402=500%:%
%:%1403=500%:%
%:%1404=500%:%
%:%1405=500%:%
%:%1406=501%:%
%:%1407=501%:%
%:%1408=502%:%
%:%1409=502%:%
%:%1410=503%:%
%:%1411=503%:%
%:%1412=503%:%
%:%1413=503%:%
%:%1414=504%:%
%:%1415=504%:%
%:%1416=504%:%
%:%1417=504%:%
%:%1418=504%:%
%:%1419=505%:%
%:%1419=506%:%
%:%1420=507%:%
%:%1421=507%:%
%:%1422=508%:%
%:%1423=508%:%
%:%1424=508%:%
%:%1425=509%:%
%:%1426=509%:%
%:%1427=509%:%
%:%1428=509%:%
%:%1429=510%:%
%:%1430=510%:%
%:%1431=511%:%
%:%1432=511%:%
%:%1433=511%:%
%:%1434=512%:%
%:%1435=512%:%
%:%1436=512%:%
%:%1437=512%:%
%:%1438=512%:%
%:%1439=513%:%
%:%1440=513%:%
%:%1441=513%:%
%:%1442=513%:%
%:%1443=513%:%
%:%1444=514%:%
%:%1444=516%:%
%:%1445=517%:%
%:%1446=517%:%
%:%1447=517%:%
%:%1448=517%:%
%:%1449=517%:%
%:%1450=518%:%
%:%1451=519%:%
%:%1452=519%:%
%:%1453=519%:%
%:%1454=519%:%
%:%1455=519%:%
%:%1456=520%:%
%:%1456=521%:%
%:%1457=522%:%
%:%1458=522%:%
%:%1459=522%:%
%:%1460=522%:%
%:%1461=523%:%
%:%1462=523%:%
%:%1463=523%:%
%:%1464=523%:%
%:%1465=523%:%
%:%1466=524%:%
%:%1467=524%:%
%:%1468=524%:%
%:%1469=524%:%
%:%1470=525%:%
%:%1471=525%:%
%:%1472=526%:%
%:%1473=526%:%
%:%1474=527%:%
%:%1475=527%:%
%:%1476=527%:%
%:%1477=527%:%
%:%1478=528%:%
%:%1479=528%:%
%:%1480=528%:%
%:%1481=528%:%
%:%1482=529%:%
%:%1483=529%:%
%:%1484=529%:%
%:%1485=530%:%
%:%1486=530%:%
%:%1487=530%:%
%:%1488=531%:%
%:%1489=532%:%
%:%1490=532%:%
%:%1491=532%:%
%:%1492=532%:%
%:%1493=533%:%
%:%1493=535%:%
%:%1494=536%:%
%:%1495=536%:%
%:%1496=536%:%
%:%1497=537%:%
%:%1498=537%:%
%:%1499=537%:%
%:%1500=538%:%
%:%1501=538%:%
%:%1502=538%:%
%:%1503=539%:%
%:%1504=539%:%
%:%1505=539%:%
%:%1506=540%:%
%:%1506=541%:%
%:%1507=542%:%
%:%1508=542%:%
%:%1509=543%:%
%:%1510=543%:%
%:%1511=543%:%
%:%1512=544%:%
%:%1513=544%:%
%:%1514=544%:%
%:%1515=544%:%
%:%1516=545%:%
%:%1517=545%:%
%:%1518=546%:%
%:%1518=547%:%
%:%1519=548%:%
%:%1520=548%:%
%:%1521=548%:%
%:%1522=549%:%
%:%1522=553%:%
%:%1523=554%:%
%:%1524=554%:%
%:%1525=554%:%
%:%1526=554%:%
%:%1527=554%:%
%:%1528=555%:%
%:%1529=555%:%
%:%1530=555%:%
%:%1531=555%:%
%:%1532=555%:%
%:%1533=556%:%
%:%1534=557%:%
%:%1535=557%:%
%:%1536=557%:%
%:%1537=557%:%
%:%1538=557%:%
%:%1539=558%:%
%:%1540=559%:%
%:%1541=559%:%
%:%1542=559%:%
%:%1543=559%:%
%:%1544=559%:%
%:%1545=560%:%
%:%1545=561%:%
%:%1546=562%:%
%:%1547=562%:%
%:%1548=562%:%
%:%1549=562%:%
%:%1550=563%:%
%:%1551=563%:%
%:%1552=563%:%
%:%1553=563%:%
%:%1554=563%:%
%:%1555=564%:%
%:%1556=564%:%
%:%1557=564%:%
%:%1558=564%:%
%:%1559=565%:%
%:%1560=565%:%
%:%1561=566%:%
%:%1562=566%:%
%:%1563=567%:%
%:%1564=567%:%
%:%1565=568%:%
%:%1566=568%:%
%:%1567=568%:%
%:%1568=568%:%
%:%1569=569%:%
%:%1570=569%:%
%:%1571=570%:%
%:%1572=570%:%
%:%1573=571%:%
%:%1574=571%:%
%:%1575=572%:%
%:%1576=572%:%
%:%1577=573%:%
%:%1578=573%:%
%:%1579=574%:%
%:%1580=575%:%
%:%1581=575%:%
%:%1582=576%:%
%:%1583=577%:%
%:%1584=577%:%
%:%1585=578%:%
%:%1586=578%:%
%:%1587=578%:%
%:%1588=578%:%
%:%1589=579%:%
%:%1590=579%:%
%:%1591=579%:%
%:%1592=579%:%
%:%1593=580%:%
%:%1594=580%:%
%:%1595=581%:%
%:%1596=581%:%
%:%1597=582%:%
%:%1598=582%:%
%:%1598=584%:%
%:%1599=585%:%
%:%1600=585%:%
%:%1601=586%:%
%:%1602=586%:%
%:%1603=586%:%
%:%1604=586%:%
%:%1605=587%:%
%:%1606=588%:%
%:%1607=588%:%
%:%1608=588%:%
%:%1609=589%:%
%:%1610=589%:%
%:%1611=590%:%
%:%1612=590%:%
%:%1613=591%:%
%:%1614=591%:%
%:%1615=591%:%
%:%1616=591%:%
%:%1617=592%:%
%:%1618=592%:%
%:%1619=592%:%
%:%1620=592%:%
%:%1621=592%:%
%:%1622=593%:%
%:%1623=593%:%
%:%1624=594%:%
%:%1625=594%:%
%:%1626=594%:%
%:%1627=594%:%
%:%1628=595%:%
%:%1629=595%:%
%:%1630=596%:%
%:%1631=596%:%
%:%1632=597%:%
%:%1633=597%:%
%:%1634=598%:%
%:%1635=598%:%
%:%1636=599%:%
%:%1637=599%:%
%:%1638=600%:%
%:%1639=600%:%
%:%1640=601%:%
%:%1641=601%:%
%:%1642=601%:%
%:%1643=601%:%
%:%1644=602%:%
%:%1645=602%:%
%:%1646=602%:%
%:%1647=602%:%
%:%1648=602%:%
%:%1649=603%:%
%:%1650=603%:%
%:%1651=603%:%
%:%1652=603%:%
%:%1653=603%:%
%:%1654=604%:%
%:%1655=604%:%
%:%1656=604%:%
%:%1657=605%:%
%:%1658=605%:%
%:%1659=606%:%
%:%1660=606%:%
%:%1661=607%:%
%:%1662=607%:%
%:%1663=607%:%
%:%1664=608%:%
%:%1665=608%:%
%:%1666=608%:%
%:%1667=608%:%
%:%1668=609%:%
%:%1669=609%:%
%:%1670=610%:%
%:%1671=610%:%
%:%1672=610%:%
%:%1673=610%:%
%:%1674=610%:%
%:%1675=611%:%
%:%1676=611%:%
%:%1677=611%:%
%:%1678=611%:%
%:%1679=611%:%
%:%1680=612%:%
%:%1681=612%:%
%:%1682=613%:%
%:%1683=613%:%
%:%1684=614%:%
%:%1685=614%:%
%:%1686=614%:%
%:%1687=615%:%
%:%1688=615%:%
%:%1689=615%:%
%:%1690=616%:%
%:%1691=616%:%
%:%1692=616%:%
%:%1693=616%:%
%:%1694=616%:%
%:%1695=617%:%
%:%1696=617%:%
%:%1697=617%:%
%:%1698=617%:%
%:%1699=617%:%
%:%1700=618%:%
%:%1701=618%:%
%:%1702=618%:%
%:%1703=618%:%
%:%1704=618%:%
%:%1705=619%:%
%:%1706=619%:%
%:%1707=619%:%
%:%1708=619%:%
%:%1709=619%:%
%:%1710=620%:%
%:%1711=620%:%
%:%1712=621%:%
%:%1713=621%:%
%:%1714=622%:%
%:%1715=622%:%
%:%1716=623%:%
%:%1731=625%:%
%:%1741=627%:%
%:%1742=627%:%
%:%1743=628%:%
%:%1744=629%:%
%:%1745=630%:%
%:%1746=631%:%
%:%1747=631%:%
%:%1748=632%:%
%:%1749=633%:%
%:%1750=634%:%
%:%1751=634%:%
%:%1758=635%:%
